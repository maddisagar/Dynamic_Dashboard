(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[940],{93420:()=>{},98940:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>N});var i=l(95155),t=l(12115);l(93420);var a=l(18533),r=l(32883),d=l(33109),c=l(79397),n=l(10809),o=l(66474),m=l(44992),h=l(54239);l(35279);var x=l(26597),j=l(52699),v=l.n(j);function u(e){let{percentage:s}=e,l=48*Math.PI;return(0,i.jsxs)("svg",{height:80,width:80,className:"circular-progress",children:[(0,i.jsx)("circle",{stroke:"#fcd34d",fill:"transparent",strokeWidth:8,r:24,cx:40,cy:40,style:{opacity:.3}}),(0,i.jsx)("circle",{stroke:"#f97316",fill:"transparent",strokeWidth:8,strokeDasharray:l+" "+l,style:{strokeDashoffset:l-s/100*l},r:24,cx:40,cy:40,strokeLinecap:"round"}),(0,i.jsxs)("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",fontSize:"20",fill:"#1e293b",fontWeight:"700",children:[s,"%"]})]})}let p={criticalAlertsCount:5,systemModesCounts:{regenMode:21,ascMode:17,hillHold:13,limp:4,idleShutdown:55},temperatureStats:{minMotorTemp:36,maxMotorTemp:78,minControllerTemp:28,maxControllerTemp:68}};function N(){let e=(0,t.useRef)(null),[s,l]=(0,t.useState)(null);(0,t.useEffect)(()=>{l(new Date)},[]);let[j,N]=(0,t.useState)(!1),[g,C]=(0,t.useState)("");return j?(0,i.jsxs)("div",{className:"reports-section error",children:[(0,i.jsx)("h2",{children:"Report"}),(0,i.jsxs)("div",{className:"error-message",children:["Error loading report: ",g]})]}):s?(0,i.jsxs)("div",{className:"reports-section",children:[(0,i.jsxs)("div",{className:"header-row",children:[(0,i.jsx)("h2",{children:"Report"}),(0,i.jsx)(h.Ay,{selected:s,onChange:e=>l(e),maxDate:new Date,dateFormat:"yyyy-MM-dd",className:"date-picker","aria-label":"Select report date",showPopperArrow:!1}),(0,i.jsx)("button",{onClick:function(){if(!e.current)return;let s=e.current;v()(s,{scale:2,useCORS:!0}).then(e=>{let s=e.toDataURL("image/png"),l=e.width+40,i=e.height+40+30,t=new x.Ay({orientation:"landscape",unit:"pt",format:[l,i]}),a=new Date().toISOString().split("T")[0];t.setFontSize(32);let r=t.getTextWidth(a);t.text(a,(l-r)/2,35),t.addImage(s,"PNG",20,50,e.width,e.height),t.save("report-".concat(a,".pdf"))}).catch(e=>{alert("Failed to generate PDF: "+e.message)})},className:"download-button","aria-label":"Download report as PDF",children:"Download PDF"})]}),(0,i.jsxs)("div",{ref:e,children:[(0,i.jsxs)("div",{className:"top-card",children:[(0,i.jsxs)("div",{className:"critical-alerts",children:[(0,i.jsx)("div",{className:"icon-circle red-bg",children:(0,i.jsx)(a.A,{size:24,color:"white"})}),(0,i.jsxs)("div",{className:"critical-text",children:[(0,i.jsx)("div",{className:"title",children:"Critical"}),(0,i.jsx)("div",{className:"title",children:"Alerts"}),(0,i.jsx)("div",{className:"value",children:p.criticalAlertsCount})]})]}),(0,i.jsxs)("div",{className:"system-modes",children:[(0,i.jsxs)("div",{className:"mode-item green",children:[(0,i.jsx)(r.A,{size:20}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mode-label",children:"Regen"}),(0,i.jsx)("div",{className:"mode-sub-label",children:"Mode"}),(0,i.jsx)("div",{className:"mode-value",children:p.systemModesCounts.regenMode})]})]}),(0,i.jsxs)("div",{className:"mode-item green",children:[(0,i.jsx)(d.A,{size:20}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mode-label",children:"ASC"}),(0,i.jsx)("div",{className:"mode-sub-label",children:"Mode"}),(0,i.jsx)("div",{className:"mode-value",children:p.systemModesCounts.ascMode})]})]}),(0,i.jsxs)("div",{className:"mode-item yellow",children:[(0,i.jsx)(c.A,{size:20}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mode-label",children:"Hill"}),(0,i.jsx)("div",{className:"mode-sub-label",children:"Hold"}),(0,i.jsx)("div",{className:"mode-value",children:p.systemModesCounts.hillHold})]})]}),(0,i.jsxs)("div",{className:"mode-item red",children:[(0,i.jsx)(n.A,{size:20}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mode-label",children:"Limp"}),(0,i.jsx)("div",{className:"mode-value",children:p.systemModesCounts.limp})]})]}),(0,i.jsxs)("div",{className:"mode-item green",children:[(0,i.jsx)(o.A,{size:20}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mode-value",children:(0,i.jsx)(u,{percentage:p.systemModesCounts.idleShutdown})}),(0,i.jsx)("div",{className:"mode-label",children:"Idle Shutdown"})]})]})]})]}),(0,i.jsxs)("div",{className:"temperature-cards",children:[(0,i.jsxs)("div",{className:"temp-card red-bg-light",children:[(0,i.jsx)("div",{className:"temp-icon",children:(0,i.jsx)(m.A,{size:20,color:"#ea580c"})}),(0,i.jsxs)("div",{className:"temp-content",children:[(0,i.jsx)("div",{className:"temp-title",children:"Motor Temperature"}),(0,i.jsxs)("div",{className:"temp-values",children:[(0,i.jsxs)("div",{children:["Min ",(0,i.jsxs)("strong",{children:[p.temperatureStats.minMotorTemp,"\xb0C"]})]}),(0,i.jsxs)("div",{children:["Max ",(0,i.jsxs)("strong",{children:[p.temperatureStats.maxMotorTemp,"\xb0C"]})]})]})]})]}),(0,i.jsxs)("div",{className:"temp-card green-bg-light",children:[(0,i.jsx)("div",{className:"temp-icon",children:(0,i.jsx)(m.A,{size:20,color:"#22c55e"})}),(0,i.jsxs)("div",{className:"temp-content",children:[(0,i.jsx)("div",{className:"temp-title",children:"Controller Temperature"}),(0,i.jsxs)("div",{className:"temp-values",children:[(0,i.jsxs)("div",{children:["Min ",(0,i.jsxs)("strong",{children:[p.temperatureStats.minControllerTemp,"\xb0C"]})]}),(0,i.jsxs)("div",{children:["Max ",(0,i.jsxs)("strong",{children:[p.temperatureStats.maxControllerTemp,"\xb0C"]})]})]})]})]})]})]})]}):(0,i.jsx)("div",{children:"Loading..."})}}}]);